# Samba DC
Автоматизация развертывания решения на базе SambaDC
В качестве ОС используется RedOS 7.3.3, прии установке ОС выбран режим Server Minimal

### Роли:
- **base_setup**: Добавление пользователя с sudo и изменение имени сервера. Имя сервера берется из invenotory
- **preconfig**: Подготовка серверов - указание DNS, отключение IP6, правка адреса репозиториев, обновление системы, установка необходимых пакетов, синхронизация времени, отключение Selinux (permissive), настройка firewalld
- **bind**: Настройка доменного DNS сервера
- **dc**: Подготовка первого контроллера домена и включение в домен резервных контроллеров.
- **smb**: Установка и настройка файлового сервера
- **dns**: Вспомогательная роль для изменения DNS сервера в настройках сети
- **dhcp**: Настройка DHCP (ISC) в отказоустойчивой конфигурации
- **join**: Вспомогательная роль для ввода сервера в домен


Для двунаправленной репликации sysvol и netlogon с помощью Unison необходимо распространить SSH ключи от DC1 на остальные
ssh-keygen -t rsa
ssh-copy-id root@dc2